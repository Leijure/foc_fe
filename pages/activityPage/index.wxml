<!--活动报名页面-->
<scroll-view class="scrollview" scroll-y type="list">
  <van-search value="{{ searchText }}" clearable shape="round" placeholder="请输入活动关键词" bind:change="onSearchChange" />
  <view wx:if="{{ searchEmpty }}">
    <van-empty image="search" description="找不到活动" />
  </view>
  <view wx:for="{{ activitiesShowing }}" wx:key="index">
    <van-card class="status-{{ item.status }}" tag="{{ statusList[item.status] }}" title="{{ item.name }}"
      desc="{{ item.description }}" thumb="{{ item.poster }}">
      <view slot="footer">
        <view wx:if="{{ item.registered }}">
          <van-button wx:if="{{ item.isLucky === '1' }}" round icon="casino" class-prefix="material-icons" size="small"
            type="primary" bindtap="navigateToNumberPage" data-activity="{{ item }}">
            查看抽奖号
          </van-button>
          <van-button wx:else round icon="done" class-prefix="material-icons" size="small" type="primary" disabled>
            报名成功
          </van-button>
        </view>
        <view wx:else>
          <van-button wx:if="{{ item.status === 0 }}" round size="small" type="info" disabled>
            活动未开始
          </van-button>
          <van-button wx:elif="{{ item.status === 1 }}" round size="small" type="success" bindtap="handleSignup"
            data-activity="{{ item }}">
            立即报名
          </van-button>
          <van-button wx:elif="{{ item.status >= 2 }}" round size="small" type="info" disabled>
            报名已结束
          </van-button>
        </view>
      </view>
    </van-card>
  </view>
  <van-toast id="van-toast" />
</scroll-view>
